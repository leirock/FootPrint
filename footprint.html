<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <script src="https://cdn.jsdelivr.net/npm/echarts@5.3.1/dist/echarts.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/jquery@3.6.0/dist/jquery.min.js"></script>
    <style>
        #main {
            width: 100%;
            height: 100vh;
        }

        @media (max-width: 768px) {
            #main {
                height: 80vh;
            }
        }

        @media (max-width: 480px) {
            #main {
                height: 60vh;
            }
        }
    </style>
</head>
<body id="page">
    <!--style中定义视图的长宽尺寸-->
    <div id="main"></div>
    <script type="text/javascript">
        let blackStyle = [
            "#343233",  // 背景和省份颜色
            "#2be4f3",  // 省份边界线颜色
            "#5aae5c",  // 点亮省份的颜色
            "#fff",     // 标签字体的颜色
            "#ffff00"   // 城市圆点的颜色
        ];
        let grayStyle = [
            "#dedfde",
            "#6e6e6d",
            "#d5e5f1",
            "#000",
            "#fe7e3a",
        ];
        // 自由选择样式
        let style = grayStyle;
        document.getElementById("page").style.background = style[0];
        var myChart = echarts.init(document.getElementById('main'));
        myChart.showLoading();
        $.get('./china_city.json', function (geoJson) {
            myChart.hideLoading();
            echarts.registerMap('china', geoJson);
            myChart.setOption(
                option = {
                    title: {
                        text: '足迹地图'
                    },
                    geo: {
                        name: '足迹地图',
                        type: 'map',
                        map: 'china',
                        selectedMode: 'false',
                        zoom: 1,
                        roam: true,
                        animation: false,
                        itemStyle: {
                            normal: {
                                borderWidth: 1,         // 城市边界线宽度
                                borderColor: style[1],  // 城市边界线颜色
                                areaColor: style[0]     // 城市颜色
                            }
                        },
                        nameMap: {
                            '境界线': '',
                        },
                        // 点亮的城市
                        regions: [
                            { name: "金华市", itemStyle: { normal: { areaColor: style[2] } } },
                            { name: "杭州市", itemStyle: { normal: { areaColor: style[2] } } },
                            { name: "嘉兴市", itemStyle: { normal: { areaColor: style[2] } } },
                            { name: "宁波市", itemStyle: { normal: { areaColor: style[2] } } },
                            { name: "绍兴市", itemStyle: { normal: { areaColor: style[2] } } },
                            { name: "丽水市", itemStyle: { normal: { areaColor: style[2] } } },
                            { name: "上海市", itemStyle: { normal: { areaColor: style[2] } } },
                            { name: "北京市", itemStyle: { normal: { areaColor: style[2] } } },
                            { name: "重庆市", itemStyle: { normal: { areaColor: style[2] } } },
                            { name: "深圳市", itemStyle: { normal: { areaColor: style[2] } } },
                            { name: "广州市", itemStyle: { normal: { areaColor: style[2] } } },
                            { name: "佛山市", itemStyle: { normal: { areaColor: style[2] } } },
                            { name: "珠海市", itemStyle: { normal: { areaColor: style[2] } } },
                            { name: "厦门市", itemStyle: { normal: { areaColor: style[2] } } },
                            { name: "香港特别行政区", itemStyle: { normal: { areaColor: style[2] } } },
                            { name: "澳门特别行政区", itemStyle: { normal: { areaColor: style[2] } } },
                            { name: "台湾省", itemStyle: { normal: { areaColor: style[2] } } },
                        ],
                    },
                    series: {
                        name: '标记点',
                        type: 'scatter',
                        coordinateSystem: 'geo',
                        data: [
                            { name: '台北', value: [121.56,25.04] },
                            //{ name: '', value: [121.37,25.00] },//新北
                            //{ name: '', value: [121.30,24.84] },//桃园慈湖
                            //{ name: '', value: [120.45,23.48] },//嘉义
                            //{ name: '', value: [120.83,23.58] },//阿里山
                        ],
                        symbolSize: 5,
                        label: {
                            formatter: '{b}',
                            show: true,
                            position: 'left',
                            color: style[3], // 标签字体的颜色
                            fontSize: 12,
                            fontWeight: 'bold',
                            fontFamily: 'sans-serif'
                        },
                        itemStyle: {
                            color: style[4], // 圆点的颜色
                            borderWidth: 2, // 边框大小
                            borderColor: style[4], // 圆点边框的样式
                        }
                    },
                }
            );
        });
        myChart.on('click', function (params) {
            // 在用户点击后控制台打印数据的名称
            console.log(params);
        });
    </script>
</body>
</html>